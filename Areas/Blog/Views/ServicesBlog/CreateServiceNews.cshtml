@{
    ViewData["Title"] = "Create Services News";
}
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <form action="#" id="step-form-horizontal" class="step-form-horizontal">
                <div>
                    <h4>General Information</h4>
                    <section>
                        <h3>General Information</h3>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Title</label>
                                    <input type="text" name="title" class="form-control"
                                        placeholder="For example: Hostel at 83-85, District 7">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Self-managed accommodation</label>
                                    <select name="self-managed" class="form-control">
                                        <option value="" disabled selected>Choose object</option>
                                        <option value="yes">Yes</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Area</label>
                                    <input type="number" name="area" class="form-control" placeholder="Area">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Rental price</label>
                                    <input type="number" name="rental-price" class="form-control"
                                        placeholder="Rental price">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Description of the content</label>
                                    <div class="summernote">
                                        @* Summer note *@
                                    </div>
                                </div>
                            </div>
                            @* Đối tượng *@
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <h3>Object</h3>
                                    <div class="row justify-content-start">
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">Student
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">Worker
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">Family
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">Couple
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @* Tiện nghi *@
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <h3>Utilities</h3>
                                    <div class="row justify-content-start">
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Loft
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Wi-Fi
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Indoor
                                                    cleaning
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Bathroom
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Water
                                                    heater
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Kitchen
                                                    shelf
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Washing
                                                    machine
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> TV
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Air
                                                    conditioner
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">
                                                    Refrigerator
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Bed and
                                                    mattress
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Wardrobe
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Balcony
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Elevator
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Private
                                                    parking lot
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Security
                                                    camera
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Swimming
                                                    pool
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Garden
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @* Môi trường xung quanh *@
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <h3>Surrounding environment</h3>
                                    <div class="row justify-content-start">
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Market
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">
                                                    Supermarket
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Hospital
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> School
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Park
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value=""> Bus
                                                    station
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="">Gym
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            @* Địa điểm *@
                            <div class="col-lg-12">
                                <h3>Location</h3>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Province</label>
                                    <select class="form-control" id="tinh" name="tinh" title="Chọn Tỉnh Thành">
                                        <option value="0">Tỉnh Thành</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">District</label>
                                    <select class="form-control" id="quan" name="quan" title="Chọn Quận Huyện">
                                        <option value="0">Quận Huyện</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Town</label>
                                    <select class="form-control" id="phuong" name="phuong" title="Chọn Phường Xã">
                                        <option value="0">Phường Xã</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Address</label>
                                    <input type="text" name="Address" class="form-control"
                                        placeholder="Enter your full address">
                                </div>
                            </div>
                            @* Image *@
                            <div class="col-lg-12">
                                <h3>Overview Image</h3>
                                <div class="upload-container">
                                    <div class="upload-box" id="dropArea">
                                        <p class="upload-text">DRAG AND DROP IMAGES<br>(Or click to select images)</p>
                                        <input type="file" class="input-hidden" id="fileInput" accept="image/*" multiple />
                                        <div class="preview-area" id="previewArea"></div>
                                    </div>
                                    <div class="upload-instructions">
                                        <p>- Upload up to <b>15 images</b>.</p>
                                        <p>- Use real images, no duplicates, no phone numbers, and no logos.</p>
                                        <p>- Each image must be at least <b>100x100 px</b>.</p>
                                    </div>
                                </div>
                            </div>
                            @* Contract information *@
                            <div class="col-lg-12">
                                <div class="form-group">
                                    @* <label for="control-label">Contact Information</label> *@
                                    <h3 style="margin-top: 16px;">Contact Information</h3>
                                    @* </br> *@
                                    <div class="row justify-content-start"style="height: 28px;">
                                        <div class="col-3 mb-5">
                                            <div class="form-check form-check-inline">
                                                <input type="radio" name="optradio">
                                                <label class="radio-inline mr-3 distance">Default Information</label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-5">
                                            <div class="form-check form-check-inline">
                                                <input type="radio" name="optradio">
                                                <label class="radio-inline mr-3 distance">Other Information</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="col-lg-12">
                                <div class="row justify-content-start">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label for="control-label">Full Name</label>
                                            <input type="text" name="fullname" class="form-control"
                                                placeholder="Full Name">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label for="control-label">Phone Number</label>
                                            <input type="text" name="phonenumber" class="form-control"
                                                placeholder="+8412345678">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label for="control-label">Zalo Number</label>
                                            <input type="text" name="zalonumber" class="form-control"
                                                placeholder="+8412345678">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <h4>Add Room</h4>
                    <section>
                        <h3>Room Information</h3>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Room Name</label>
                                    <input type="text" name="roomname" class="form-control"
                                        placeholder="For example: Room with mezzanine">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Area</label>
                                    <input type="number" name="area_detail" class="form-control" placeholder="Area">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Rental price</label>
                                    <input type="number" name="rental-price_detail" class="form-control"
                                        placeholder="Rental price">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Number of rooms</label>
                                    <input type="number" name="number-of-rooms" class="form-control" placeholder="Number of Room">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Maxium Person</label>
                                    <input type="number" name="number-of-rooms" class="form-control" placeholder="Maximum Person">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Object Reantal</label>
                                    <select name="self-managed" class="form-control">
                                        <option value="" disabled selected>Choose Object</option>
                                        <option value="student">Student</option>
                                        <option value="worker">Worker</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                        <option value="couple">Couple</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="control-label">Show Number</label>
                                    <input type="number" name="show-number" class="form-control" placeholder="Show Number">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label for="control-label">Description of the content</label>
                                    <div class="summernote">
                                        @* Summer note *@
                                    </div>
                                </div>
                            </div>
                            @* Tiện nghi *@
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <h3>Utilities</h3>
                                    <div class="row justify-content-start">
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Bed"> Bed
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Wardrobe"> Wardrobe
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
        <label class="form-check-label">
            <input type="checkbox" class="form-check-input" value="Desk"> Desk
        </label>
    </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Chair"> Chair
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
            <input type="checkbox" class="form-check-input" value="Air Conditioner"> Air Conditioner
        </label>
    </div>
</div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Fan"> Fan
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Lighting"> Lighting
        </label>
    </div>
</div>
<div class="col-3 mb-3">
    <div class="form-check form-check-inline">
        <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Curtains"> Curtains
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="TV"> TV
                                                </label>
                                            </div>
</div>
<div class="col-3 mb-3">
    <div class="form-check form-check-inline">
        <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Refrigerator"> Refrigerator
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Wi-Fi"> Wi-Fi
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
        <label class="form-check-label">
            <input type="checkbox" class="form-check-input" value="Mirror"> Mirror
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Socket"> Socket
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Water Heater"> Water Heater
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-3 mb-3">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input type="checkbox" class="form-check-input" value="Window"> Window
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            
                            @* Image *@
                            <div class="col-lg-12">
                                <h3>Overview Image</h3>
                                <div class="upload-container">
                                    <div class="upload-box" id="dropArea">
                                        <p class="upload-text">DRAG AND DROP IMAGES<br>(Or click to select images)</p>
                                        <input type="file" class="input-hidden" id="fileInput" accept="image/*" multiple />
                                        <div class="preview-area" id="previewArea"></div>
                                    </div>
                                    <div class="upload-instructions">
                                        <p>- Upload up to <b>15 images</b>.</p>
                                        <p>- Use real images, no duplicates, no phone numbers, and no logos.</p>
                                        <p>- Each image must be at least <b>100x100 px</b>.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <h4>Finshed</h4>
                    <section>
                        @* <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <input class="form-control" type="text" name="creditCard"
                                        placeholder="Credit Card Number">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <input class="form-control" type="text" name="date" placeholder="Expiration Date">
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <input class="form-control" type="text" name="owner"
                                        placeholder="Credit Card Owner">
                                </div>
                            </div>
                        </div> *@
                    </section>
                </div>
            </form>
        </div>
    </div>
</div>

@* Link CSS *@
@section AdditionalLinkCSS {
    <link href="./plugins/jquery-steps/css/jquery.steps.css" rel="stylesheet">
    <link href="./plugins/summernote/dist/summernote.css" rel="stylesheet">

    <style>
        .wizard .content {
            min-height: 132rem !important;
        }

        .note-resizebar {
            display: none !important;
        }

        .distance {
            margin-top: 6px;
            margin-left: 4px;
        }

        @* New code *@
        .upload-container {
            width: 100%;
            margin: auto;
            padding: 20px;
            border: 2px dashed #7571f9;
            border-radius: 10px;
            background-color: #ffffff;
            text-align: center;
        }

        .upload-box {
            position: relative;
            padding: 20px;
            cursor: pointer;
        }

        .upload-box:hover {
            background-color: #e6f7ff;
            border-color: #7571f9;
        }

        .upload-box input[type="file"] {
            display: none; /* Hide input field */
        }

        .upload-text {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .preview-area {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }

        .preview-item {
            position: relative;
            width: 100px;
            height: 100px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-item .check-icon {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 50%;
            color: #fff;
            font-size: 16px;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .preview-item .delete-btn {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: #ff6666;
            border-radius: 50%;
            color: #fff;
            font-size: 16px;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        .input-hidden {
            display: none !important;
        }
        .upload-instructions {
            font-size: 14px;
            color: #555;
            margin-top: 15px;
            text-align: left;
        }
    </style>}

@* Link Javascript *@
@section AdditionalLinkJavascript {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- Load jQuery first -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Load Bootstrap JS -->
    <script src="./plugins/summernote/dist/summernote.min.js"></script>
    <script src="./plugins/summernote/dist/summernote-init.js"></script>
    <script src="./plugins/jquery-steps/build/jquery.steps.min.js"></script>
    <script src="./plugins/jquery-validation/jquery.validate.min.js"></script>
    <script src="./js/plugins-init/jquery-steps-init.js"></script>

    <script>
        $(document).ready(function () {
            // Initialize Summernote
            $('.summernote').summernote({
                height: 200,
                callbacks: {
                    onChange: function (contents, $editable) {
                        // Update the hidden input with the Summernote content
                        $('#Content').val(contents);
                    }
                }
            });

            // Initialize Summernote with existing content if editing
            if ($('#Content').val()) {
                $('.summernote').summernote('code', $('#Content').val());
            }

            // Get and populate provinces (tinh)
            $.getJSON('https://esgoo.net/api-tinhthanh/1/0.htm', function (data_tinh) {
                if (data_tinh.error == 0) {
                    $.each(data_tinh.data, function (key_tinh, val_tinh) {
                        $("#tinh").append('<option value="' + val_tinh.id + '">' + val_tinh.full_name + '</option>');
                    });

                    // When province is changed, populate districts (quan)
                    $("#tinh").change(function (e) {
                        var idtinh = $(this).val();
                        $.getJSON('https://esgoo.net/api-tinhthanh/2/' + idtinh + '.htm', function (data_quan) {
                            if (data_quan.error == 0) {
                                $("#quan").html('<option value="0">Quận Huyện</option>');
                                $("#phuong").html('<option value="0">Phường Xã</option>');
                                $.each(data_quan.data, function (key_quan, val_quan) {
                                    $("#quan").append('<option value="' + val_quan.id + '">' + val_quan.full_name + '</option>');
                                });

                                // When district is changed, populate wards (phuong)
                                $("#quan").change(function (e) {
                                    var idquan = $(this).val();
                                    $.getJSON('https://esgoo.net/api-tinhthanh/3/' + idquan + '.htm', function (data_phuong) {
                                        if (data_phuong.error == 0) {
                                            $("#phuong").html('<option value="0">Phường Xã</option>');
                                            $.each(data_phuong.data, function (key_phuong, val_phuong) {
                                                $("#phuong").append('<option value="' + val_phuong.id + '">' + val_phuong.full_name + '</option>');
                                            });
                                        }
                                    });
                                });
                            }
                        });
                    });
                }
            });
        });
    </script>
        <script>
        // JavaScript for handling the drag-and-drop and preview functionality
        const dropArea = document.getElementById("dropArea");
        const fileInput = document.getElementById("fileInput");
        const previewArea = document.getElementById("previewArea");

        dropArea.addEventListener("click", () => {
            fileInput.click(); // Open file dialog on click
        });

        dropArea.addEventListener("dragover", (e) => {
            e.preventDefault();
            dropArea.style.borderColor = "#007acc";
            dropArea.style.backgroundColor = "#e6f7ff";
        });

        dropArea.addEventListener("dragleave", () => {
            dropArea.style.borderColor = "#0099ff";
            dropArea.style.backgroundColor = "#ffffff";
        });

        dropArea.addEventListener("drop", (e) => {
            e.preventDefault();
            dropArea.style.borderColor = "#0099ff";
            dropArea.style.backgroundColor = "#ffffff";

            const files = e.dataTransfer.files;
            handleFiles(files);
        });

        fileInput.addEventListener("change", (e) => {
            const files = e.target.files;
            handleFiles(files);
        });

        function handleFiles(files) {
            const maxFiles = 15;
            const currentItems = previewArea.querySelectorAll('.preview-item').length;

            if (files.length + currentItems > maxFiles) {
                alert(`Bạn chỉ có thể tải lên tối đa ${maxFiles} ảnh.`);
                return;
            }

            Array.from(files).forEach((file) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const previewItem = document.createElement("div");
                    previewItem.classList.add("preview-item");

                    const img = document.createElement("img");
                    img.src = e.target.result;

                    const checkIcon = document.createElement("div");
                    checkIcon.classList.add("check-icon");
                    checkIcon.textContent = "✔";

                    const deleteBtn = document.createElement("div");
                    deleteBtn.classList.add("delete-btn");
                    deleteBtn.textContent = "×";

                    // Add delete functionality
                    deleteBtn.addEventListener("click", () => {
                        previewItem.remove();
                    });

                    previewItem.appendChild(img);
                    previewItem.appendChild(checkIcon);
                    previewItem.appendChild(deleteBtn);
                    previewArea.appendChild(previewItem);
                };
                reader.readAsDataURL(file);
            });
        }
    </script>
}
