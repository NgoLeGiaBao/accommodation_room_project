@{
    ViewData["Title"] = "Room Service";
}
<header class="header-section">
    <div class="top-nav">
        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <nav class="main-menu">
                        <ul>
                            <li><a asp-action="Home" asp-controller="HomePage">Trang chủ</a></li>
                            <li class="active"><a asp-action="RoomService" asp-controller="HomePage">Nhà trọ, phòng
                                    trọ</a></li>
                            <li><a asp-action="VideoReview" asp-controller="HomePage">Video Review </a>
                            </li>
                            <li><a asp-action="Blog" asp-controller="HomePage">News</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-5">
                    <div class="top-right">
                        <div class="language-option">
                            <i class="fa fa-sign-in" aria-hidden="true"></i> <span> Đăng nhập</span>
                            <i class="fa fa-angle-down"></i>
                            <div class="flag-dropdown">
                                <ul>
                                    <li><a asp-area="Account" asp-action="Index" asp-controller="Login">Đăng
                                            nhập</a></li>
                                    <li><a asp-area="Account" asp-action="Index" asp-controller="Login">Đăng
                                            ký</a></li>
                                </ul>
                            </div>
                        </div>
                        <a asp-area="Blog" asp-action="CreateNews" asp-controller="News" class="property-sub"><i
                                class="fa fa-plus" aria-hidden="true"></i> Đăng trọ ngay
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="nav-logo">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="logo">
                        <a href="./index.html"><img src="/client_part/img/logo.png" alt=""></a>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="nav-logo-right">
                        <ul>
                            <li>
                                <i class="icon_phone"></i>
                                <div class="info-text">
                                    <span>Phone:</span>
                                    <p>(+84) 345 6789</p>
                                </div>
                            </li>
                            <li>
                                <i class="icon_map"></i>
                                <div class="info-text">
                                    <span>Address:</span>
                                    <p>Ho Chi Minh City</p>
                                </div>
                            </li>
                            <li>
                                <i class="icon_mail"></i>
                                <div class="info-text">
                                    <span>Email:</span>
                                    <p>phongtrotienich@gmail.com</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb-text">
                    <h2>Cho thuê Nhà trọ, phòng trọ giá rẻ, mới nhất
                    </h2>
                    <div class="breadcrumb-option">
                        <a asp-action="Home" asp-controller="HomePage"><i class="fa fa-home"></i> Trang chủ</a>
                        <span>Nhà trọ, phòng trọ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Property Section Begin -->
<section class="property-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="property-sidebar">
                    <h4>Tìm Kiếm Phòng Trọ</h4>
                    <form action="#" class="sidebar-search">
                        <select class="nice-select" style="font-size: 16px; color: #707079;" id="tinh" name="Province"
                            title="Chọn Tỉnh Thành">
                            <option value="0">Tỉnh Thành</option>
                        </select>
                        <select class="nice-select" style="font-size: 16px; color: #707079;" id="quan" name="District"
                            title="Chọn Quận Huyện">
                            <option value="0">Quận Huyện</option>
                        </select>
                        <select class="nice-select" style="font-size: 16px; color: #707079;" id="phuong" name="Town"
                            title="Chọn Phường Xã">
                            <option value="0">Phường Xã</option>
                        </select>
                        <div class="room-size-range">
                            <div class="price-text">
                                <label for="roomsizeRangeP">Size:</label>
                                <input type="text" id="roomsizeRangeP" readonly>
                            </div>
                            <div id="roomsize-range-P" class="slider"></div> <!-- Slider container -->
                        </div>
                        <div class="price-range-wrap">
                            <div class="price-text">
                                <label for="priceRangeP">Price:</label>
                                <input style="width: auto;" type="text" id="priceRangeP" readonly>
                            </div>
                            <div id="price-range-P" class="slider"></div> <!-- Slider container -->
                        </div>
                        <button type="submit" class="search-btn">Tìm Kiếm</button>
                    </form>
                </div>
            </div>
            <div class="col-lg-9">
                <h4 class="property-title">Property</h4>
                <div class="property-list">
                    <div class="single-property-item">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="property-pic">
                                    <img src="client_part/img/properties/property-1.jpg" alt="">
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="property-text">
                                    <a asp-action="DetailRoomService" asp-controller="HomePage" class="s-text">For
                                        Sale</a>
                                    <h5 class="r-title">Villa 9721 Glen Creek</h5>
                                    <div class="room-price">
                                        <span>Start From:</span>
                                        <h5>$3.000.000</h5>
                                    </div>
                                    <div class="properties-location"><i class="icon_pin"></i> 9721 Glen Creek Ave.
                                        Ballston Spa, NY</div>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        incididunt ut labore.</p>
                                    <ul class="room-features">
                                        <li>
                                            <i class="fa fa-arrows"></i>
                                            <p>5201 sqft</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bed"></i>
                                            <p>8 Bed Room</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bath"></i>
                                            <p>7 Baths Bed</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-car"></i>
                                            <p>1 Garage</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="single-property-item">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="property-pic">
                                    <img src="client_part/img/properties/property-2.jpg" alt="">
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="property-text">
                                    <div class="s-text">For Sale</div>
                                    <h5 class="r-title">Villa 9721 Glen Creek</h5>
                                    <div class="room-price">
                                        <span>Start From:</span>
                                        <h5>$3.000.000</h5>
                                    </div>
                                    <div class="properties-location"><i class="icon_pin"></i> 9721 Glen Creek Ave.
                                        Ballston Spa, NY</div>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        incididunt ut labore.</p>
                                    <ul class="room-features">
                                        <li>
                                            <i class="fa fa-arrows"></i>
                                            <p>5201 sqft</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bed"></i>
                                            <p>8 Bed Room</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bath"></i>
                                            <p>7 Baths Bed</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-car"></i>
                                            <p>1 Garage</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="single-property-item">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="property-pic">
                                    <img src="client_part/img/properties/property-3.jpg" alt="">
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="property-text">
                                    <div class="s-text">For Sale</div>
                                    <h5 class="r-title">Villa 9721 Glen Creek</h5>
                                    <div class="room-price">
                                        <span>Start From:</span>
                                        <h5>$3.000.000</h5>
                                    </div>
                                    <div class="client_part/properties-location"><i class="icon_pin"></i> 9721 Glen
                                        Creek
                                        Ave.
                                        Ballston Spa, NY</div>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        incididunt ut labore.</p>
                                    <ul class="room-features">
                                        <li>
                                            <i class="fa fa-arrows"></i>
                                            <p>5201 sqft</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bed"></i>
                                            <p>8 Bed Room</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bath"></i>
                                            <p>7 Baths Bed</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-car"></i>
                                            <p>1 Garage</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="single-property-item">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="property-pic">
                                    <img src="client_part/img/properties/property-4.jpg" alt="">
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="property-text">
                                    <div class="s-text">For Sale</div>
                                    <h5 class="r-title">Villa 9721 Glen Creek</h5>
                                    <div class="room-price">
                                        <span>Start From:</span>
                                        <h5>$3.000.000</h5>
                                    </div>
                                    <div class="properties-location"><i class="icon_pin"></i> 9721 Glen Creek Ave.
                                        Ballston Spa, NY</div>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        incididunt ut labore.</p>
                                    <ul class="room-features">
                                        <li>
                                            <i class="fa fa-arrows"></i>
                                            <p>5201 sqft</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bed"></i>
                                            <p>8 Bed Room</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-bath"></i>
                                            <p>7 Baths Bed</p>
                                        </li>
                                        <li>
                                            <i class="fa fa-car"></i>
                                            <p>1 Garage</p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="property-pagination">
                    @* <a href="#">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a> *@
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Property Section End -->
@* Link CSS *@
@section AdditionalLinkCSS {
    <style>
        .sb-pic img {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 8px;
        }

        /* Default pagination button */
        .custom-pagination .page-item .page-link {
            color: #2cbdb8;
            background-color: white;
            padding: 8px 15px;
            border: 1px solid #ddd;
            margin: 0;
            transition: color 0.3s ease, background-color 0.3s ease;
            text-align: center;
        }

        /* Active pagination button */
        .custom-pagination .page-item.active .page-link {
            background-color: #2cbdb8;
            color: white;
            border-color: #2cbdb8;
        }

        /* Hover effect for all buttons */
        .custom-pagination .page-item .page-link:hover {
            background-color: #2cbdb8;
            color: white;
            border-color: #2cbdb8;
        }

        /* Disabled button */
        .custom-pagination .page-item.disabled .page-link {
            color: #ddd;
            background-color: white;
            pointer-events: none;
        }

        #tinh {
            display: block !important;
            visibility: visible !important;
        }

        #quan {
            display: block !important;
            visibility: visible !important;
        }

        #phuong {
            display: block !important;
            visibility: visible !important;
        }
    </style>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

}
@* Link Javascript*@
@section AdditionalLinkJavascript {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script>
        $(document).ready(function () {
            // Load danh sách Tỉnh
            $.getJSON('https://esgoo.net/api-tinhthanh/1/0.htm', function (data_tinh) {
                if (data_tinh.error === 0) {
                    $.each(data_tinh.data, function (key_tinh, val_tinh) {
                        $("#tinh").append('<option value="' + val_tinh.id + '">' + val_tinh.full_name + '</option>');
                    });
                }
            });

            // Khi người dùng chọn Tỉnh
            $("#tinh").change(function () {
                console.log("Tỉnh changed");
                var idtinh = $(this).val();

                // Xóa dữ liệu cũ của Quận/Huyện và Phường/Xã
                $("#quan").html('<option value="0">Quận Huyện</option>');
                $("#phuong").html('<option value="0">Phường Xã</option>');

                if (idtinh !== "0") { // Kiểm tra xem Tỉnh có được chọn hay không
                    // Load danh sách Quận/Huyện theo Tỉnh
                    $.getJSON('https://esgoo.net/api-tinhthanh/2/' + idtinh + '.htm', function (data_quan) {
                        if (data_quan.error === 0) {
                            $.each(data_quan.data, function (key_quan, val_quan) {
                                $("#quan").append('<option value="' + val_quan.id + '">' + val_quan.full_name + '</option>');
                            });
                        }
                    });
                }
            });

            // Khi người dùng chọn Quận/Huyện
            $("#quan").change(function () {
                console.log("Quận/Huyện changed");
                var idquan = $(this).val();

                // Xóa dữ liệu cũ của Phường/Xã
                $("#phuong").html('<option value="0">Phường Xã</option>');
                if (idquan !== "0") { // Kiểm tra xem Quận/Huyện có được chọn hay không
                    // Load danh sách Phường/Xã theo Quận/Huyện
                    $.getJSON('https://esgoo.net/api-tinhthanh/3/' + idquan + '.htm', function (data_phuong) {
                        if (data_phuong.error === 0) {
                            console.log("Received phường data:", data_phuong);  // Log toàn bộ dữ liệu phường
                            $.each(data_phuong.data, function (key_phuong, val_phuong) {
                                console.log("Appending: " + val_phuong.full_name);  // Kiểm tra tên phường
                                $("#phuong").append('<option value="' + val_phuong.id + '">' + val_phuong.full_name + '</option>');
                            });
                        } else {
                            console.log("No Phường data found for the selected district.");
                        }
                    }).fail(function () {
                        console.log("API call failed for phường data.");
                    });
                }
            });


            // Room Size Slider
            $("#roomsize-range-P").slider({
                range: true, // Allows selecting a range
                min: 10, // Minimum size (in square meters, for example)
                max: 200, // Maximum size
                values: [20, 100], // Initial selected range [min size, max size]
                slide: function (event, ui) {
                    $("#roomsizeRangeP").val(ui.values[0] + " - " + ui.values[1] + " m²");
                }
            });
            $("#roomsizeRangeP").val($("#roomsize-range-P").slider("values", 0) + " - " + $("#roomsize-range-P").slider("values", 1) + " m²");

            // Price Slider
            $("#price-range-P").slider({
                range: true,
                min: 500000, // Minimum price (example in VND or any currency)
                max: 10000000, // Maximum price
                values: [1000000, 5000000], // Initial selected range [min price, max price]
                slide: function (event, ui) {
                    var formattedMinPrice = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(ui.values[0]);
                    var formattedMaxPrice = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(ui.values[1]);
                    $("#priceRangeP").val(formattedMinPrice + " - " + formattedMaxPrice);
                }
            });
            $("#priceRangeP").val(
                new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format($("#price-range-P").slider("values", 0)) +
                " - " +
                new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format($("#price-range-P").slider("values", 1))
            )
        });
    </script>
}