@model LoginController

<!DOCTYPE html>
<html class="h-100" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Login</title>
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon_2.png">
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="~/css/site.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<style>
    body {
        background-color: #f4f7fa;
    }

    .login-form-bg {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
    }

    .card {
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        padding: 40px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .input-group {
        position: relative;
    }

    .input-group .form-control {
        padding-right: 40px;
    }

    .toggle-password {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #888;
        z-index: 1;
    }

    button {
        margin-top: 10px;
        padding: 10px;
        border-radius: 5px;
        background-color: #007bff;
        color: white;
        border: none;
        width: 100%;
    }

    button:hover {
        background-color: #0056b3;
    }

    .login-form__footer {
        text-align: center;
        margin-top: 30px;
        color: #777;
    }

    .text-primary {
        color: #007bff;
        text-decoration: none;
    }

    .text-primary:hover {
        text-decoration: underline;
    }

    h4 {
        margin-bottom: 1.5rem;
        line-height: 2rem;
        text-align: center;
    }
</style>

<body class="h-100">
    <div class="login-form-bg h-100">
        <div class="container h-100">
            <div class="row justify-content-center h-100">
                <div class="col-xl-6">
                    <div class="form-input-content">
                        <div class="card login-form mb-0">
                            <div class="card-body pt-5">
                                <h4>Login to Your Hostel <br> Management System</h4>
                                <form asp-action="Index" method="post">
                                    <div class="form-group">
                                        @Html.TextBoxFor(m => m.Input.Username, new
                                            {
                                                @class = "form-control",
                                                placeholder = "Username"
                                            })
                                    </div>
                                    <div class="form-group">
                                        <div class="input-group">
                                            @Html.PasswordFor(m => m.Input.Password, new
                                                {
                                                    @class = "form-control",
                                                    placeholder = "Password",
                                                    id = "passwordInput"
                                                })
                                            <span class="toggle-password" onclick="togglePassword()">
                                                <i class="fas fa-eye" id="eyeIcon"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="form-check mb-2">
                                        @Html.CheckBoxFor(model => model.Input.RememberMe, new
                                            {
                                                @class = "form-check-input"
                                            })
                                        @Html.LabelFor(model => model.Input.RememberMe, new
                                            {
                                                @class =
                                                 "form-check-label",
                                            })

                                    </div>
                                    <button type="submit" class="btn login-form__btn submit">Sign In</button>
                                </form>
                                <p class="mt-5 login-form__footer">Don't have an account? <a href="page-register.html"
                                        class="text-primary">Sign Up</a> now</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="bootstrap-modal">
        <div class="modal fade" id="basicModal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">Your username or password is incorrect.</div>
                    <div class="modal-footer">
                        <button style="width:auto" type="button" class="btn btn-primary"
                            data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="~/plugins/common/common.min.js"></script>
    <script src="~/js/custom.min.js"></script>
    <script src="~/js/settings.js"></script>
    <script src="~/js/gleek.js"></script>
    <script src="~/js/styleSwitcher.js"></script>

    <script>
        // Show Modal Function
        function showModal() {
            $('#basicModal').modal('show');
        }

        // Check if Login Failed
        @if (ViewBag.LoginFailed != null && ViewBag.LoginFailed)
        {
            <text>
                    $(document).ready(function() {
                        showModal();
                                                                                });
            </text>
        }

            // Toggle Password Function
            function togglePassword() {
                var passwordInput = document.getElementById("passwordInput");
                var eyeIcon = document.getElementById("eyeIcon");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    eyeIcon.classList.remove("fa-eye");
                    eyeIcon.classList.add("fa-eye-slash");
                } else {
                    passwordInput.type = "password";
                    eyeIcon.classList.remove("fa-eye-slash");
                    eyeIcon.classList.add("fa-eye");
                }
            }
    </script>
</body>

</html>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
